[  381.660000] ralink_gpio: sending a SIGUSR2 to process 525
gpio btn reset!
procd: - shutdown -
[  381.928000] br-lan: port 2(ra0) entered disabled state
[  381.940000] br-lan: port 1(eth0.1) entered disabled state
[  381.976000] device eth0.1 left promiscuous mode
[  381.984000] br-lan: port 1(eth0.1) entered disabled state
[  382.000000] IPv6: ADDRCONF(NETDEV_UP): eth0.1: link is not ready
[  382.020000] device ra0 left promiscuous mode
[  382.028000] br-lan: port 2(ra0) entered disabled state
[  382.232000] device eth0 left promiscuous mode
[  382.252000] ra2880stop()...Done
[  382.256000] Free TX/RX Ring Memory!
procd: - reboot [  382.336000] Stopped WatchDog Timer.
-
[  382.348000] Restarting system.
[04010C0A][04000C0F]
DDR Calibration DQS reg = 00008785


U-Boot 1.1.3 (Dec 25 2017 - 22:59:38)

Board: Ralink APSoC DRAM:  64 MB
relocate_code Pointer at: 83fb8000
******************************
Software System Reset Occurred
******************************
flash manufacture id: ef, device id 40 17
find flash: W25Q64BV
*** Warning - bad CRC, using default environment

============================================
Ralink UBoot Version: 4.3.0.0
--------------------------------------------
ASIC 7628_MP (Port5<->None)
DRAM component: 512 Mbits DDR, width 16
DRAM bus: 16 bit
Total memory: 64 MBytes
Flash component: SPI Flash
Date:Dec 25 2017  Time:22:59:38
============================================
icache: sets:512, ways:4, linesz:32 ,total:65536
dcache: sets:256, ways:4, linesz:32 ,total:32768

 ##### The CPU freq = 580 MHZ ####
 estimate memory size =64 Mbytes
RESET MT7628 PHY!!!!!!
Please choose the operation:
   1: Load system code to SDRAM via TFTP.
   2: Load system code then write to Flash via TFTP.
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial.
   9: Load Boot Loader code then write to Flash via TFTP.
default: 3                                                                    0

3: System Boot system code viaFlash.
## Booting image at bc050000 ...
   Image Name:   OpenWrt Linux-3.10.14-p112871
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    1279753 Bytes =  1.2 MB
   Load Address: 80000000
   Entry Point:  80000000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80000000) ...
## Giving linux memsize in MB, 64

Starting kernel ...


LINUX started...

 THIS IS ASIC
[    0.000000] Linux version 3.10.14 (tonnyy@ubuntu) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 unknown) ) #63 Sun Oct 27 23:00:22 CST 2019
[    0.000000]
[    0.000000]  The CPU feqenuce set to 575 MHz
[    0.000000] CPU0 revision is: 00019655 (MIPS 24KEc)
[    0.000000] Software DMA cache coherency
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 04000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x03ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x03ffffff]
[    0.000000] Primary instruction cache 64kB, 4-way, VIPT, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, PIPT, no aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
[    0.000000] Kernel command line: console=ttyS1,57600n8 root=/dev/mtdblock5 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)
[    0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Writing ErrCtl register=0000a868
[    0.00000] Readback ErrCtl register=0000a868
[    0.000000] Memory: 61020k/65536k available (2851k kernel code, 4480k reserved, 679k data, 180k init, 0k highmem)
[    0.000000] NR_IRQS:128
[    0.000000] console [ttyS1] enabled
[    0.096000] Calibrating delay loop... 382.46 BogoMIPS (lpj=764928)
[    0.128000] pid_max: default: 32768 minimum: 301
[    0.132000] Mount-cache hash table entries: 512
[    0.136000] NET: Registered protocol family 16
[    0.140000] RALINK_GPIOMODE = 54050404
[    0.144000] RALINK_GPIOMODE = 54040404
[    0.244000] ***** Xtal 40MHz *****
[    0.248000] start PCIe register access
[    0.748000] RALINK_RSTCTRL = 2400000
[    0.752000] RALINK_CLKCFG1 = fdbfffc0
[    0.756000]
[    0.756000] *************** MT7628 PCIe RC mode *************
[    1.256000] PCIE0 no card, disable it(RST&CLK)
[    1.284000] bio: create slab <bio-0> at 0
[    1.288000] usbcore: registered new interface driver usbfs
[    1.292000] usbcore: registered new interface driver hub
[    1.296000] usbcore: registered new device driver usb
[    1.300000] cfg80211: Calling CRDA to update world regulatory domain
[    1.304000] Switching to clocksource MIPS
[    1.308000] NET: Registered protocol family 2
[    1.320000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    1.332000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    1.344000] TCP: Hash tables configured (established 512 bind 512)
[    1.356000] TCP: reno registered
[    1.364000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    1.376000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    1.388000] NET: Registered protocol family 1
[    1.396000] MTK/Ralink EHCI/OHCI init.
[    1.408000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    1.420000] jffs2: version 2.2. (NAND) (SUMMARY)  (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    1.440000] msgmni has been set to 119
[    1.448000] io scheduler noop registered (default)
[    1.468000] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
[    1.480000] serial8250: ttyS0 at MMIO 0x10000d00 (irq = 21) is a 16550A
[    1.492000] serial8250: ttyS1 at MMIO 0x10000c00 (irq = 20) is a 16550A
[    1.508000] Ralink gpio driver initialized
[    1.516000] flash manufacture id: ef, device id 40 17
[    1.528000] get_flash_id: ret: 0
[    1.532000] W25Q64BV(ef 40170000) (8192 Kbytes)
[    1.544000] mtd .name = raspi, .size = 0x00800000 (8M) .erasesize = 0x00010000 (64K) .numeraseregions = 0
[    1.560000] Creating 5 MTD partitions on "raspi":
[    1.572000] 0x000000000000-0x000000800000 : "ALL"
[    1.584000] 0x000000000000-0x000000030000 : "Bootloader"
[    1.596000] 0x000000030000-0x000000040000 : "Config"
[    1.604000] 0x000000040000-0x000000050000 : "Factory"
[    1.616000] 0x000000050000-0x000000800000 : "firmware"
[    1.628000] 0x000000188749-0x000000800000 : "rootfs"
[    1.640000] mtd: partition "rootfs" must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    1.668000] mtd: partition "rootfs_data" created automatically, ofs=0x450000, len=0x3b0000
[    1.684000] 0x000000450000-0x000000800000 : "rootfs_data"
[    1.696000] GMAC1_MAC_ADRH -- : 0x0000e043
[    1.704000] GMAC1_MAC_ADRL -- : 0xa513d93a
[    1.712000] Ralink APSoC Ethernet Driver Initilization. v3.1  256 rx/tx descriptors allocated, mtu = 1500!
[    1.732000] GMAC1_MAC_ADRH -- : 0x0000e043
[    1.740000] GMAC1_MAC_ADRL -- : 0xa513d93a
[    1.748000] PROC INIT OK!
[    1.752000] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
[    1.768000] ehci-pci: EHCI PCI platform driver
[    1.776000] ehci-platform: EHCI generic platform driver
[    1.808000] ******MT7628 mtk phy
[    1.812000] *****run project phy.
[    1.828000] FM_OUT value: u4FmOut = 122(0x0000007A)
[    1.836000] FM detection done! loop = 0
[    1.852000] SR calibration value u1SrCalVal = 7
[    1.860000] *********Execute mt7628_phy_init!!
[    1.868000] ehci-platform ehci-platform: EHCI Host Controller
[    1.880000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1
[    1.896000] ehci-platform ehci-platform: irq 18, io mem 0x101c0000
[    1.920000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00
[    1.932000] hub 1-0:1.0: USB hub found
[    1.940000] hub 1-0:1.0: 1 port detected
[    1.948000] ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
[    1.980000] *********Execute mt7628_phy_init!!
[    1.988000] ohci-platform ohci-platform: Generic Platform OHCI Controller
[    2.004000] ohci-platform ohci-platform: new USB bus registered, assigned bus number 2
[    2.020000] ohci-platform ohci-platform: irq 18, io mem 0x101c1000
[    2.092000] hub 2-0:1.0: USB hub found
[    2.100000] hub 2-0:1.0: 1 port detected
[    2.108000] TCP: cubic registered
[    2.116000] NET: Registered protocol family 10
[    2.124000] NET: Registered protocol family 17
[    2.132000] 8021q: 802.1Q VLAN Support v1.8
[    2.172000] registered taskstats version 1
[    2.188000] VFS: Mounted root (squashfs filesystem) readonly on device 31:5.
[    2.200000] Freeing unused kernel memory: 180K (80373000 - 803a0000)
procd: Console is alive
procd: - preinit -
[    4.504000] Raeth v3.1 (Tasklet,SkbRecycle)
[    4.516000]
[    4.516000] phy_tx_ring = 0x03f97000, tx_ring = 0xa3f97000
[    4.528000]
[    4.528000] phy_rx_ring0 = 0x03f98000, rx_ring0 = 0xa3f98000
[    4.560000] GMAC1_MAC_ADRH -- : 0x0000e043
[    4.568000] GMAC1_MAC_ADRL -- : 0xa513d93a
[    4.576000] RT305x_ESW: Link Status Changed
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
kmod: ran 1 iterations
[    8.184000] jffs2: notice: (237) jffs2_build_xattr_subsystem: complete building xattr subsystem, 7 of xdatum (0 unchecked, 7 orphan) and 80 of xref (0 dead, 80 orphan) found.
block: extroot: failed to load /tmp/jffs_cfg/etc/config/fstab: Entry not found
jffs2 is ready
jffs2 is ready
[    8.300000] jffs2: notice: (234) jffs2_build_xattr_subsystem: complete building xattr subsystem, 7 of xdatum (0 unchecked, 7 orphan) and 80 of xref (0 dead, 80 orphan) found.
switching to overlay
[    8.344000] ra2880stop()...Done
[    8.352000] Free TX/RX Ring Memory!
procd: - early -
procd: - ubus -
procd: - init -

MT7628 login: [   10.152000] l2tp_core: L2TP core driver, V2.0
[   10.160000] l2tp_netlink: L2TP netlink interface
[   10.192000] nf_conntrack version 0.5.0 (956 buckets, 3824 max)
[   10.208000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   10.256000] u32 classifier
[   10.260000]     input device check on
[   10.268000]     Actions configured
[   10.296000] Mirror/redirect action on
[   11.076000]
[   11.076000]
[   11.076000] === pAd = c04fd000, size = 1476032 ===
[   11.076000]
[   11.092000] <-- RTMPAllocTxRxRingMemory, Status=0, ErrorValue=0x
[   11.108000] <-- RTMPAllocAdapterBlock, Status=0
[   11.116000] RtmpChipOpsHook(492): Not support for HIF_MT yet!
[   11.128000] mt7628_init()-->
[   11.132000] mt7628_init(FW(8a00), HW(8a01), CHIPID(7628))
[   11.144000] e2.bin mt7628_init(1117)::(2), pChipCap->fw_len(63056)
[   11.156000] mt_bcn_buf_init(218): Not support for HIF_MT yet!
[   11.168000] <--mt7628_init()
[   11.184000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   11.196000] Type=Linux
[   11.248000] Ralink APSoC Hardware Watchdog Timer
[   11.260000] rdm_major = 253
[   11.308000] xt_time: kernel timezone is -0000
[   11.324000] PPP generic driver version 2.4.2
[   11.336000] NET: Registered protocol family 24
[   11.352000] l2tp_ppp: PPPoL2TP kernel driver, V2.0
[   17.268000] TX_BCN DESC a3110000 size = 320
[   17.276000] RX[0] DESC a3112000 size = 2048
[   17.288000] RX[1] DESC a3113000 size = 1024
[   17.312000] E2pAccessMode=2
[   17.316000] cfg_mode=9
[   17.320000] cfg_mode=9
[   17.328000] wmode_band_equal(): Band Equal!
[   17.340000] APSDCapable[0]=1
[   17.344000] APSDCapable[1]=1
[   17.352000] APSDCapable[2]=1
[   17.356000] APSDCapable[3]=1
[   17.364000] APSDCapable[4]=1
[   17.368000] APSDCapable[5]=1
[   17.372000] APSDCapable[6]=1
[   17.380000] APSDCapable[7]=1
[   17.384000] APSDCapable[8]=1
[   17.392000] APSDCapable[9]=1
[   17.396000] APSDCapable[10]=1
[   17.404000] APSDCapable[11]=1
[   17.408000] APSDCapable[12]=1
[   17.416000] APSDCapable[13]=1
[   17.420000] APSDCapable[14]=1
[   17.428000] APSDCapable[15]=1
[   17.432000] default ApCliAPSDCapable[0]=1
[   17.440000] default ApCliAPSDCapable[1]=1
[   17.452000] Key1Str is Invalid key length(0) or Type(0)
[   17.464000] Key1Str is Invalid key length(0) or Type(0)
[   17.476000] Key2Str is Invalid key length(0) or Type(0)
[   17.484000] Key2Str is Invalid key length(0) or Type(0)
[   17.496000] Key3Str is Invalid key length(0) or Type(0)
[   17.508000] Key3Str is Invalid key length(0) or Type(0)
[   17.520000] Key4Str is Invalid key length(0) or Type(0)
[   17.528000] Key4Str is Invalid key length(0) or Type(0)
[   17.596000] RTMPSetDefaultChannel() : default channel to 1
[   17.608000] load fw image from fw_header_image
[   17.616000] AndesMTLoadFwMethod1(2174)::pChipCap->fw_len(63056)
[   17.628000] FW Version:_e2_mp
[   17.632000] FW Build Date:20150211175503
[   17.644000] CmdAddressLenReq:(ret = 0)
[   17.652000] CmdFwStartReq: override = 1, address = 1048576
[   17.660000] CmdStartDLRsp: WiFI FW Download Success
[   17.680000] MtAsicDMASchedulerInit(): DMA Scheduler Mode=0(LMAC)
[   17.692000] efuse_probe: efuse = 10000002
[   17.700000] RtmpChipOpsEepromHook::e2p_type=2, inf_Type=4
[   17.708000] RtmpEepromGetDefault::e2p_dafault=2
[   17.716000] RtmpChipOpsEepromHook: E2P type(2), E2pAccessMode = 2, E2P default = 2
[   17.732000] NVM is FLASH mode
[   17.740000] 1. Phy Mode = 14
[   17.908000] Country Region from e2p = ffff
[   17.916000] tssi_1_target_pwr_g_band = 39
[   17.924000] 2. Phy Mode = 14
[   17.932000] 3. Phy Mode = 14
[   17.936000] NICInitPwrPinCfg(11): Not support for HIF_MT yet!
[   17.948000] NICInitializeAsic(651): Not support rtmp_mac_sys_reset () for HIF_MT yet!
[   17.964000] mt_mac_init()-->
[   17.968000] MtAsicInitMac()-->
[   17.976000] mt7628_init_mac_cr()-->
[   17.980000] MtAsicSetMacMaxLen(1241): Set the Max RxPktLen=1024!
[   17.992000] <--mt_mac_init()
[   18.000000]  WTBL Segment 1 info:
[   18.008000]          MemBaseAddr/FID:0x28000/0
[   18.016000]          EntrySize/Cnt:32/128
[   18.020000]  WTBL Segment 2 info:
[   18.028000]          MemBaseAddr/FID:0x40000/0
[   18.036000]          EntrySize/Cnt:64/128
[   18.044000]  WTBL Segment 3 info:
[   18.048000]          MemBaseAddr/FID:0x42000/64
[   18.056000]          EntrySize/Cnt:64/128
[   18.064000]  WTBL Segment 4 info:
[   18.068000]          MemBaseAddr/FID:0x44000/128
[   18.076000]          EntrySize/Cnt:32/128
[   18.084000] AntCfgInit(2876): Not support for HIF_MT yet!
[   18.096000] MCS Set = ff ff 00 00 01
[   18.104000] MtAsicSetChBusyStat(826): Not support for HIF_MT yet!
[   18.616000] CmdSlotTimeSet:(ret = 0)
[   20.776000] [PMF]ap_pmf_init:: apidx=0, MFPC=0, MFPR=0, SHA256=0
[   20.788000] [PMF]ap_pmf_init:: apidx=1, MFPC=0, MFPR=0, SHA256=0
[   20.800000] MtAsicSetRalinkBurstMode(2919): Not support for HIF_MT yet!
[   20.812000] MtAsicSetPiggyBack(763): Not support for HIF_MT yet!
[   20.844000] MtAsicSetTxPreamble(2898): Not support for HIF_MT yet!
[   20.856000] MtAsicSetPreTbtt(): bss_idx=0, PreTBTT timeout = 0xf0
[   20.868000] Main bssid = e0:43:a5:13:d9:38
[   20.876000] <==== rt28xx_init, Status=0
[   20.896000] RT28xx_Monitor_Init: 764 !!!!####!!!!!!
[   20.912000] mt7628_set_ed_cca: TURN OFF EDCCA  mac 0x10618 = 0xd7083f0f
[   20.924000] WiFi Startup Cost (ra0): 3.656s
[   21.028000] Raeth v3.1 (Tasklet,SkbRecycle)
[   21.036000]
[   21.036000] phy_tx_ring = 0x02ab5000, tx_ring = 0xa2ab5000
[   21.052000]
[   21.052000] phy_rx_ring0 = 0x02ab6000, rx_ring0 = 0xa2ab6000
[   21.080000] GMAC1_MAC_ADRH -- : 0x0000e043
[   21.088000] GMAC1_MAC_ADRL -- : 0xa513d93a
[   21.096000] RT305x_ESW: Link Status Changed
[   21.268000] device eth0.1 entered promiscuous mode
[   21.276000] device eth0 entered promiscuous mode
[   21.292000] br-lan: port 1(eth0.1) entered forwarding state
[   21.300000] br-lan: port 1(eth0.1) entered forwarding state
[   22.768000] device ra0 entered promiscuous mode
[   22.780000] br-lan: port 2(ra0) entered forwarding state
[   22.788000] br-lan: port 2(ra0) entered forwarding state
[   23.304000] br-lan: port 1(eth0.1) entered forwarding state
[   24.792000] br-lan: port 2(ra0) entered forwarding state
procd: - init complete -